(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[20],{318:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n(796),r=n(797),o=n(27),s=n(329);class a{static create(t){const e=new i.StockItemDisplayEvent;return e.meta=o.a.meta(),e.device=o.a.device(),e.user=o.a.user(),e.searchIdentifiers=o.a.getSearchIdentifiers(),e.urls=o.a.urls(),e.stockItems=t,e}static displayedStockItem(t,e){const n=new r.DisplayedStockItem;return n.stockItem=s.a.create(t),n.position=e,n}}},386:function(t,e,n){"use strict";var i=n(27),r=n(318);function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const s=new class{constructor(){o(this,"events",i.a),o(this,"displayedStockItemBuffer",[]),o(this,"pushTimer",null),o(this,"TIMER_MS",500)}push(t){this.displayedStockItemBuffer.push(t),this.setTimer()}fire(){this.clearTimer();const t=this.clearBuffer(),e=r.a.create(t);this.events.produce(e)}clearBuffer(){const t=[...this.displayedStockItemBuffer];return this.displayedStockItemBuffer=[],t}setTimer(){this.pushTimer&&this.clearTimer(),this.pushTimer=setTimeout((()=>this.fire()),this.TIMER_MS)}clearTimer(){clearTimeout(this.pushTimer),this.pushTimer=null}};e.a=s},387:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(798),r=n.n(i);n(723);async function o(t,e){return await r()(t,1),e()}},723:function(t,e){!function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var t=window.document,e=[];i.prototype.THROTTLE_TIMEOUT=100,i.prototype.POLL_INTERVAL=null,i.prototype.USE_MUTATION_OBSERVER=!0,i.prototype.observe=function(t){if(!this._observationTargets.some((function(e){return e.element==t}))){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},i.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter((function(e){return e.element!=t})),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},i.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},i.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},i.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter((function(t,e,n){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==n[e-1]}))},i.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map((function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}}));return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},i.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(r(window,"resize",this._checkForIntersections,!0),r(t,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in window&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},i.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,o(window,"resize",this._checkForIntersections,!0),o(t,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},i.prototype._checkForIntersections=function(){var t=this._rootIsInDom(),e=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(i){var r=i.element,o=s(r),a=this._rootContainsTarget(r),c=i.entry,l=t&&a&&this._computeTargetAndRootIntersection(r,e),u=i.entry=new n({time:window.performance&&performance.now&&performance.now(),target:r,boundingClientRect:o,rootBounds:e,intersectionRect:l});c?t&&a?this._hasCrossedThreshold(c,u)&&this._queuedEntries.push(u):c&&c.isIntersecting&&this._queuedEntries.push(u):this._queuedEntries.push(u)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},i.prototype._computeTargetAndRootIntersection=function(e,n){if("none"!=window.getComputedStyle(e).display){for(var i,r,o,a,l,u,m,p,h=s(e),d=c(e),y=!1;!y;){var f=null,T=1==d.nodeType?window.getComputedStyle(d):{};if("none"==T.display)return;if(d==this.root||d==t?(y=!0,f=n):d!=t.body&&d!=t.documentElement&&"visible"!=T.overflow&&(f=s(d)),f&&(i=f,r=h,o=void 0,a=void 0,l=void 0,u=void 0,m=void 0,p=void 0,o=Math.max(i.top,r.top),a=Math.min(i.bottom,r.bottom),l=Math.max(i.left,r.left),u=Math.min(i.right,r.right),p=a-o,!(h=(m=u-l)>=0&&p>=0&&{top:o,bottom:a,left:l,right:u,width:m,height:p})))break;d=c(d)}return h}},i.prototype._getRootRect=function(){var e;if(this.root)e=s(this.root);else{var n=t.documentElement,i=t.body;e={top:0,left:0,right:n.clientWidth||i.clientWidth,width:n.clientWidth||i.clientWidth,bottom:n.clientHeight||i.clientHeight,height:n.clientHeight||i.clientHeight}}return this._expandRectByRootMargin(e)},i.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map((function(e,n){return"px"==e.unit?e.value:e.value*(n%2?t.width:t.height)/100})),n={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},i.prototype._hasCrossedThreshold=function(t,e){var n=t&&t.isIntersecting?t.intersectionRatio||0:-1,i=e.isIntersecting?e.intersectionRatio||0:-1;if(n!==i)for(var r=0;r<this.thresholds.length;r++){var o=this.thresholds[r];if(o==n||o==i||o<n!=o<i)return!0}},i.prototype._rootIsInDom=function(){return!this.root||a(t,this.root)},i.prototype._rootContainsTarget=function(e){return a(this.root||t,e)},i.prototype._registerInstance=function(){e.indexOf(this)<0&&e.push(this)},i.prototype._unregisterInstance=function(){var t=e.indexOf(this);-1!=t&&e.splice(t,1)},window.IntersectionObserver=i,window.IntersectionObserverEntry=n}function n(t){this.time=t.time,this.target=t.target,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,n=e.width*e.height,i=this.intersectionRect,r=i.width*i.height;this.intersectionRatio=n?Number((r/n).toFixed(4)):this.isIntersecting?1:0}function i(t,e){var n,i,r,o=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(o.root&&1!=o.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),i=this.THROTTLE_TIMEOUT,r=null,function(){r||(r=setTimeout((function(){n(),r=null}),i))}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(o.rootMargin),this.thresholds=this._initThresholds(o.threshold),this.root=o.root||null,this.rootMargin=this._rootMarginValues.map((function(t){return t.value+t.unit})).join(" ")}function r(t,e,n,i){"function"==typeof t.addEventListener?t.addEventListener(e,n,i||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function o(t,e,n,i){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,i||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,n)}function s(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function a(t,e){for(var n=e;n;){if(n==t)return!0;n=c(n)}return!1}function c(t){var e=t.parentNode;return e&&11==e.nodeType&&e.host?e.host:e&&e.assignedSlot?e.assignedSlot.parentNode:e}}()},796:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StockItemDisplayEvent=void 0;const i=n(138);class r extends i.BaseAvroRecord{constructor(){super(...arguments),this.urls={currentUrl:"",referrerUrl:null}}schema(){return r.schema}subject(){return r.subject}}e.StockItemDisplayEvent=r,r.subject="stock-item-display-event",r.schema={type:"record",name:"StockItemDisplayEvent",namespace:"storyblocks.content",fields:[{name:"meta",type:{type:"record",name:"Meta",namespace:"storyblocks.common",fields:[{name:"uuid",type:"string"},{name:"emitted",type:{type:"long",logicalType:"timestamp-millis"}},{name:"origin",type:{type:"enum",name:"Origin",symbols:["VIDEOBLOCKS","AUDIOBLOCKS","GRAPHICSTOCK","STORYBLOCKS","CONTRIBUTOR_PORTAL","TEMPLATE_EDITOR","ACCOUNT_SERVICE","BILLING_SERVICE","CONTENT_SERVICE","PAYOUT_SERVICE","TRANSLATION_SERVICE","CONTENT_RATING_APP","FEATURE_FLAG_SERVICE","PREMIERE_PRO_PLUGIN","AFTER_EFFECTS_PLUGIN","EXAMPLE_SERVICE","SEARCH_SERVICE","CONTENT_JOB","DATA_JOB","MISC","STORYBOARD","OUTDATED_SCHEMA"],default:"OUTDATED_SCHEMA"}},{name:"trace",type:["null",{type:"record",name:"TraceContext",fields:[{name:"traceId",type:"string"},{name:"pageTraceId",type:"string",default:""},{name:"spanId",type:"string"},{name:"parentId",type:"string",default:""}]}],default:null}]}},{name:"user",type:{type:"record",name:"User",namespace:"storyblocks.common",fields:[{name:"visitorCookieId",type:["null","string"]},{name:"userId",type:["null","int"]},{name:"subscriptionId",type:["null","int"]},{name:"organizationId",type:["null","int"],default:null}]}},{name:"urls",type:{type:"record",name:"Urls",namespace:"storyblocks.common",fields:[{name:"currentUrl",type:"string"},{name:"referrerUrl",type:["null","string"],default:null}]},default:{currentUrl:"",referrerUrl:null}},{name:"device",type:{type:"record",name:"Device",namespace:"storyblocks.common",fields:[{name:"browser",type:["null",{type:"record",name:"Browser",namespace:"storyblocks.common.frontend",fields:[{name:"userAgent",type:"string"},{name:"language",type:"string"},{name:"platform",type:"string"},{name:"name",type:"string"}]}],default:null},{name:"tab",type:["null",{type:"record",name:"Tab",namespace:"storyblocks.common.frontend",fields:[{name:"isNewTab",type:"boolean"},{name:"tabCount",type:"int"},{name:"tabId",type:"string"}]}],default:null},{name:"navigation",type:{type:"record",name:"Navigation",namespace:"storyblocks.common.frontend",fields:[{name:"referrerUrl",type:"string"},{name:"navigationType",type:["null",{type:"enum",name:"NavigationType",namespace:"storyblocks.common.enums",symbols:["TYPE_NAVIGATE","TYPE_RELOAD","TYPE_BACK_FORWARD","TYPE_RESERVED","OUTDATED_SCHEMA"],default:"OUTDATED_SCHEMA"}],default:null}]}}]}},{name:"searchIdentifiers",type:{type:"record",name:"SearchIdentifiers",namespace:"storyblocks.search.records",fields:[{name:"searchId",type:"string",doc:"f.k.a. SSLID"},{name:"searchPageId",type:"string",doc:"f.k.a. SGUID"},{name:"lastSearchId",type:["null","string"],doc:"Previous searchId",default:null}]}},{name:"stockItems",type:{type:"array",items:{type:"record",name:"DisplayedStockItem",namespace:"storyblocks.content.records",fields:[{name:"position",type:"int"},{name:"stockItem",type:{type:"record",name:"ShallowStockItem",fields:[{name:"stockItemId",type:"int"},{name:"title",type:"string"},{name:"distributionType",type:{type:"enum",name:"DistributionType",namespace:"storyblocks.content.enums",symbols:["MEMBER_LIBRARY","REV_SHARE","MARKETPLACE","OUTDATED_SCHEMA"],default:"OUTDATED_SCHEMA"}},{name:"publishedDate",type:{type:"long",logicalType:"timestamp-millis"}},{name:"distributionTypeUpdatedDate",type:["null",{type:"long",logicalType:"timestamp-millis"}],default:null},{name:"contentType",type:{type:"enum",name:"ContentType",namespace:"storyblocks.content.enums",symbols:["ALL","LOOPS","MUSIC","SOUND_EFFECTS","ILLUSTRATIONS","PHOTOS","VECTORS","FOOTAGE","MOTION_BACKGROUNDS","TEMPLATES","VR_360","OUTDATED_SCHEMA"],default:"OUTDATED_SCHEMA"}},{name:"format",type:["null","string"],default:null}]}}]}}}]}},797:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DisplayedStockItem=void 0;const i=n(138);class r extends i.BaseAvroRecord{schema(){return r.schema}subject(){return r.subject}}e.DisplayedStockItem=r,r.subject="displayed-stock-item",r.schema={type:"record",name:"DisplayedStockItem",namespace:"storyblocks.content.records",fields:[{name:"position",type:"int"},{name:"stockItem",type:{type:"record",name:"ShallowStockItem",fields:[{name:"stockItemId",type:"int"},{name:"title",type:"string"},{name:"distributionType",type:{type:"enum",name:"DistributionType",namespace:"storyblocks.content.enums",symbols:["MEMBER_LIBRARY","REV_SHARE","MARKETPLACE","OUTDATED_SCHEMA"],default:"OUTDATED_SCHEMA"}},{name:"publishedDate",type:{type:"long",logicalType:"timestamp-millis"}},{name:"distributionTypeUpdatedDate",type:["null",{type:"long",logicalType:"timestamp-millis"}],default:null},{name:"contentType",type:{type:"enum",name:"ContentType",namespace:"storyblocks.content.enums",symbols:["ALL","LOOPS","MUSIC","SOUND_EFFECTS","ILLUSTRATIONS","PHOTOS","VECTORS","FOOTAGE","MOTION_BACKGROUNDS","TEMPLATES","VR_360","OUTDATED_SCHEMA"],default:"OUTDATED_SCHEMA"}},{name:"format",type:["null","string"],default:null}]}}]}},798:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,r=(i=n(723))&&i.__esModule?i:{default:i};e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new Promise((function(n,i){if(!t)throw new Error("Must specify a target element.");if(!o(e))throw new Error("Threshold must be between 0 and 1 inclusive.");window.IntersectionObserver||(window.IntersectionObserver=r.default),new IntersectionObserver((function(t,i){if(t[0].isIntersecting&&!(t[0].intersectionRatio<e))return i.disconnect(),n(t[0])}),{root:null,rootMargin:"0px",threshold:e}).observe(t)}))};var o=function(t){return Number(t)===t&&t>=0&&t<=1}}}]);